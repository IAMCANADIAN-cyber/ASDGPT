============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0
rootdir: /app
plugins: mock-3.15.1
collected 397 items

tests/scenarios/test_doom_scroll.py .                                    [  0%]
tests/scenarios/test_flow_state.py .                                     [  0%]
tests/scenarios/test_meeting_mode.py .......                             [  2%]
tests/scenarios/test_new_modes.py ...                                    [  3%]
tests/scenarios/test_panic_attack.py .                                   [  3%]
tests/scenarios/test_posture_correction.py .                             [  3%]
tests/scenarios/test_state_policy_integration.py ..                      [  4%]
tests/test_async_logic.py .                                              [  4%]
tests/test_audio_features.py ......                                      [  5%]
tests/test_calibration.py ....                                           [  6%]
tests/test_config_gui_logic.py .....                                     [  8%]
tests/test_config_lists.py ....                                          [  9%]
tests/test_config_persistence.py ....                                    [ 10%]
tests/test_context_history.py ..                                         [ 10%]
tests/test_context_loop.py .                                             [ 10%]
tests/test_data_logger_extended.py ......                                [ 12%]
tests/test_dnd_mode.py ...                                               [ 13%]
tests/test_eco_mode.py ....                                              [ 14%]
tests/test_face_detection.py ....                                        [ 15%]
tests/test_feedback_loop.py .....                                        [ 16%]
tests/test_feedback_loop_verification.py ...                             [ 17%]
tests/test_image_processing_ptz.py ....                                  [ 18%]
tests/test_init_reliability.py .                                         [ 18%]
tests/test_integrations.py ..                                            [ 18%]
tests/test_intervention_centralization.py ....                           [ 19%]
tests/test_intervention_engine.py ............                           [ 22%]
tests/test_intervention_engine_coverage.py ................              [ 26%]
tests/test_intervention_engine_logic.py ...........                      [ 29%]
tests/test_intervention_library.py ..............                        [ 33%]
tests/test_intervention_library_coverage.py ..........                   [ 35%]
tests/test_lmm_context_integration.py ...                                [ 36%]
tests/test_lmm_history_truncation.py ..                                  [ 37%]
tests/test_lmm_interface.py ..............                               [ 40%]
tests/test_lmm_interface_coverage.py ...............                     [ 44%]
tests/test_lmm_interface_extended_coverage.py ........                   [ 46%]
tests/test_lmm_interface_robustness.py .....                             [ 47%]
tests/test_lmm_latency.py .                                              [ 47%]
tests/test_lmm_prompt_dynamic.py ...                                     [ 48%]
tests/test_lmm_prompt_engineering.py ..                                  [ 49%]
tests/test_lmm_robustness.py ..                                          [ 49%]
tests/test_lmm_timeout.py .                                              [ 49%]
tests/test_lmm_vad_context.py ...                                        [ 50%]
tests/test_local_voice.py ...                                            [ 51%]
tests/test_log_rotation.py ..                                            [ 51%]
tests/test_logic_engine_coverage.py .................                    [ 56%]
tests/test_logic_engine_lifecycle.py ....                                [ 57%]
tests/test_logic_engine_methods.py ......                                [ 58%]
tests/test_logic_engine_recovery.py ....                                 [ 59%]
tests/test_logic_engine_simple_triggers.py ....                          [ 60%]
tests/test_logic_engine_triggers.py .....                                [ 61%]
tests/test_main_feedback_calls.py ..                                     [ 62%]
tests/test_music_control.py ...                                          [ 63%]
tests/test_offline_fallback.py ...                                       [ 63%]
tests/test_policy_replay.py .                                            [ 64%]
tests/test_privacy_scrubber.py ........                                  [ 66%]
tests/test_privacy_scrubber_fixes.py .......                             [ 68%]
tests/test_prompt_construction.py ..                                     [ 68%]
tests/test_rapid_switching.py ..                                         [ 69%]
tests/test_reflexive_triggers.py .                                       [ 69%]
tests/test_reflexive_window_triggers.py .....                            [ 70%]
tests/test_replay_reliability.py .                                       [ 70%]
tests/test_sensor_calibration.py ....                                    [ 71%]
tests/test_sensory_outputs.py ......                                     [ 73%]
tests/test_sexual_arousal_features.py ...                                [ 74%]
tests/test_shutdown_reliability.py .                                     [ 74%]
tests/test_signal_quality_integration.py ....                            [ 75%]
tests/test_state_engine.py .....                                         [ 76%]
tests/test_state_engine_logic.py .....                                   [ 77%]
tests/test_state_estimation.py ..                                        [ 78%]
tests/test_state_smoothing.py .                                          [ 78%]
tests/test_suppression_persistence.py ..                                 [ 79%]
tests/test_system_tray_coverage.py ..............                        [ 82%]
tests/test_timeline_generation.py ....                                   [ 83%]
tests/test_tray_feedback.py ...                                          [ 84%]
tests/test_tray_tooltip.py .......                                       [ 86%]
tests/test_url_construction.py .                                         [ 86%]
tests/test_vad.py ...                                                    [ 87%]
tests/test_vad_accuracy.py ....                                          [ 88%]
tests/test_vad_refinement.py ...                                         [ 88%]
tests/test_video_eco_logic.py ...                                        [ 89%]
tests/test_video_eco_smart.py ....                                       [ 90%]
tests/test_video_features.py ...                                         [ 91%]
tests/test_video_metrics.py .......                                      [ 93%]
tests/test_video_sensor_init.py ....                                     [ 94%]
tests/test_voice_features.py ...                                         [ 94%]
tests/test_window_privacy_expanded.py ....                               [ 95%]
tests/test_window_sensor.py .........                                    [ 98%]
tests/test_window_sensor_wayland.py .......                              [100%]

======================== 397 passed in 68.63s (0:01:08) ========================
